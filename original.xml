<?xml version="1.0" encoding="UTF-8"?>
<WebDynpro xmlns="http://www.sap.com/wd/webdynpro">
  <View name="CustomerRegistrationView">
    <Title>Customer Registration</Title>
    <FormContainer id="formContainer">
      <FormElement id="firstNameElement">
        <Label text="First Name" />
        <InputField id="firstNameField" value="{/firstName}" />
      </FormElement>
      <FormElement id="lastNameElement">
        <Label text="Last Name" />
        <InputField id="lastNameField" value="{/lastName}" />
      </FormElement>
      <FormElement id="emailElement">
        <Label text="Email" />
        <InputField id="emailField" value="{/email}" required="true" />
      </FormElement>
      <FormElement id="phoneElement">
        <Label text="Phone Number" />
        <InputField id="phoneField" value="{/phoneNumber}" />
      </FormElement>
      <FormElement id="companyElement">
        <Label text="Company Name" />
        <InputField id="companyField" value="{/companyName}" />
      </FormElement>
      <FormElement id="jobTitleElement">
        <Label text="Job Title" />
        <InputField id="jobTitleField" value="{/jobTitle}" />
      </FormElement>
      <FormElement id="addressElement">
        <Label text="Address" />
        <InputField id="addressField" value="{/address}" />
      </FormElement>
      <FormElement id="termsElement">
        <Label text="Terms and Conditions" />
        <CheckBox id="termsCheckBox" checked="{/termsAccepted}" />
      </FormElement>
      <FormElement id="submitButtonElement">
        <Button id="submitButton" text="Submit" press="onSubmit" />
      </FormElement>
      <MessageArea id="messageArea" />
    </FormContainer>
  </View>
  <Controller name="CustomerRegistrationViewController">
    <!-- Methods -->
    <Method name="onSubmit">
      <![CDATA[
        // Email validation (example)
        if (!wdContext.nodeCustomer.currentCustomerElement().getEmail().matches("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$")) {
          wdComponentAPI.getMessageManager().reportWarning("Invalid email address.", null, null);
          return;
        }

        // Terms and conditions check
        if (!wdContext.nodeCustomer.currentCustomerElement().getTermsAccepted()) {
          wdComponentAPI.getMessageManager().reportWarning("Please accept the terms and conditions.", null, null);
          return;
        }

        // Data persistence (replace with actual data saving logic)
        wdComponentAPI.getMessageManager().reportSuccess("Customer registered successfully!", null, null);
        wdContext.nodeCustomer.currentCustomerElement().clear(); // Clear form after submission

      ]]>
    </Method>
  </Controller>
</WebDynpro>